(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{162:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return RenderedError}),__webpack_require__.d(__webpack_exports__,"b",function(){return withCatch});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13),_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(14),_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(15),_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4__),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(6),_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);function RenderedError(_ref){var documentId=_ref.documentId,message=_ref.message,stack=_ref.stack,code=_ref.code,componentStack=_ref.componentStack;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h1",null,"ERROR"),documentId?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"An error occurred while rendering document ",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("code",null,documentId),"."):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,"An error occurred."),message&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("b",null,message))||null,code&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("b",null,"Code: ",code))||null,stack&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("pre",null,stack)||null,componentStack&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("pre",null,componentStack)||null)}function withCatch(Comp){return function(_PureComponent){function CaughtComponent(){var _getPrototypeOf2,_this;_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this,CaughtComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default()(this,(_getPrototypeOf2=_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default()(CaughtComponent)).call.apply(_getPrototypeOf2,[this].concat(args))),_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5___default()(_this)),"state",{error:null}),_this}return _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_4___default()(CaughtComponent,_PureComponent),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(CaughtComponent,[{key:"componentDidCatch",value:function(error,info){console.log("Catching error",error),this.unseen=!0,this.setState({error:{message:error.message,code:error.code,stack:error.stack,componentStack:info.componentStack}})}},{key:"render",value:function(){return this.state.error&&this.unseen?(this.unseen=!1,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(RenderedError,this.state.error)):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(Comp,this.props)}}]),CaughtComponent}(react__WEBPACK_IMPORTED_MODULE_7__.PureComponent)}RenderedError.__docgenInfo={description:"",methods:[],displayName:"RenderedError"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RenderedError.js"]={name:"RenderedError",docgenInfo:RenderedError.__docgenInfo,path:"src/components/RenderedError.js"})},338:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(4),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(5),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(13),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(14),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),inherits=__webpack_require__(15),inherits_default=__webpack_require__.n(inherits),assertThisInitialized=__webpack_require__(6),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),defineProperty=__webpack_require__(8),defineProperty_default=__webpack_require__.n(defineProperty),helpers_extends=__webpack_require__(24),extends_default=__webpack_require__.n(helpers_extends),objectWithoutProperties=__webpack_require__(37),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties),react=__webpack_require__(0),react_default=__webpack_require__.n(react),RenderedError=__webpack_require__(162),slimdom_sax_parser=__webpack_require__(337),slimdom_sax_parser_default=__webpack_require__.n(slimdom_sax_parser);function RenderedNode(_ref){var experience=_ref.experience,node=_ref.node,additionalProps=objectWithoutProperties_default()(_ref,["experience","node"]);return experience.render(node,additionalProps)}function RenderedXml(_ref){var xml=_ref.xml,additionalProps=objectWithoutProperties_default()(_ref,["xml"]);try{slimdom_sax_parser_default.a.sync(xml.toString().trim())}catch(e){throw e}return react_default.a.createElement(RenderedNode,extends_default()({},additionalProps,{node:slimdom_sax_parser_default.a.sync(xml.toString().trim())}))}function RenderedDocument(_ref){var documentId=_ref.documentId,documentError=_ref.documentError,documentContent=_ref.documentContent,documentIsLoading=_ref.documentIsLoading,additionalProps=objectWithoutProperties_default()(_ref,["documentId","documentError","documentContent","documentIsLoading"]);return documentIsLoading?null:documentError?react_default.a.createElement(RenderedError.a,extends_default()({},documentError,{documentId:documentId})):react_default.a.createElement(RenderedXml,extends_default()({},additionalProps,{xml:documentContent}))}function withAsyncDocumentLoader(getDocument,DocumentComponent){return function(_PureComponent){function AsyncRenderedDocument(){var _getPrototypeOf2,_this;classCallCheck_default()(this,AsyncRenderedDocument);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(AsyncRenderedDocument)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"documentId",null),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"componentIsMounted",!1),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"state",{loading:!0,error:null,content:null}),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"getDocument",function(documentId){if(_this.componentIsMounted)return _this.documentId=documentId,_this.setState({loading:!0}),getDocument(documentId).then(function(_ref3){var responseDocumentId=_ref3.documentId,error=_ref3.error,content=_ref3.content;return _this.componentIsMounted&&_this.documentId===responseDocumentId?void _this.setState({content:error?null:content,error:error||null,loading:!1}):void console.log(_this.componentIsMounted,_this.documentId,responseDocumentId)}).catch(function(error){_this.componentIsMounted&&_this.setState({content:null,error:error,loading:!1})})}),_this}return inherits_default()(AsyncRenderedDocument,_PureComponent),createClass_default()(AsyncRenderedDocument,[{key:"componentDidMount",value:function(){this.componentIsMounted=!0,this.getDocument(this.props.documentId)}},{key:"componentWillUnmount",value:function(){this.componentIsMounted=!1}},{key:"componentDidUpdate",value:function(){this.documentId===this.props.documentId||this.getDocument(this.props.documentId)}},{key:"render",value:function(){var _this$state=this.state,content=_this$state.content,error=_this$state.error,loading=_this$state.loading;return react_default.a.createElement(DocumentComponent,extends_default()({},this.props,{documentContent:error?null:content,documentError:error||null,documentIsLoading:loading}))}}]),AsyncRenderedDocument}(react.PureComponent)}RenderedXml.__docgenInfo={description:"",methods:[],displayName:"RenderedXml"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RenderedXml.js"]={name:"RenderedXml",docgenInfo:RenderedXml.__docgenInfo,path:"src/components/RenderedXml.js"}),__webpack_require__.d(__webpack_exports__,"a",function(){return RenderedDocument}),__webpack_require__.d(__webpack_exports__,"b",function(){return withAsyncDocumentLoader}),RenderedDocument.__docgenInfo={description:"",methods:[],displayName:"RenderedDocument"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RenderedDocument.js"]={name:"RenderedDocument",docgenInfo:RenderedDocument.__docgenInfo,path:"src/components/RenderedDocument.js"})},423:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),xml_renderer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(163),xp=new(__webpack_require__.n(xml_renderer__WEBPACK_IMPORTED_MODULE_1__).a);xp.register("self::text()",function(_ref){return(0,_ref.node)().nodeValue}),xp.register("self::node()",function(_ref2){return(0,_ref2.traverse)()}),xp.register("self::title",function(_ref3){var key=_ref3.key,traverse=_ref3.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",{key:key()},traverse())}),xp.register("self::channel",function(_ref4){var key=_ref4.key,traverse=_ref4.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key()},traverse("./title"),traverse("./description"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,traverse("./item")))}),xp.register("self::item",function(_ref5){var key=_ref5.key,traverse=_ref5.traverse,query=_ref5.query;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{key:key()},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,traverse("./title"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"dim"},"(",query("./pubDate/string()"),", ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:query("./link/string()"),target:"_blank"},"visit"),")")),traverse("./description"))}),xp.register("self::title[parent::item]",function(_ref6){var key=_ref6.key,traverse=_ref6.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",{key:key()},traverse())}),__webpack_exports__.a=xp},424:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),xml_renderer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(163),xp=new(__webpack_require__.n(xml_renderer__WEBPACK_IMPORTED_MODULE_1__).a);xp.register("self::text()",function(_ref){return(0,_ref.node)().nodeValue}),xp.register("self::node()",function(_ref2){return(0,_ref2.traverse)()}),xp.register("self::P",function(_ref3){var key=_ref3.key,traverse=_ref3.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{key:key()},traverse())}),xp.register("self::TITLE",function(_ref4){var key=_ref4.key,traverse=_ref4.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",{key:key(),style:{marginBottom:"1em"}},traverse())}),xp.register("self::TITLE[parent::ACT or parent::PERSONAE]",function(_ref5){var key=_ref5.key,traverse=_ref5.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{key:key()},traverse())}),xp.register("self::TITLE[parent::SCENE]",function(_ref6){var key=_ref6.key,traverse=_ref6.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",{key:key(),style:{marginBottom:"1em"}},traverse())}),xp.register("self::FM or self::ACT",function(_ref7){var key=_ref7.key,traverse=_ref7.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key(),style:{marginBottom:"2em"}},traverse())}),xp.register("self::PERSONAE",function(_ref8){var key=_ref8.key,traverse=_ref8.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key(),style:{marginBottom:"2em"}},traverse("./TITLE"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,traverse("./(PERSONA|PGROUP)")))}),xp.register("self::PERSONA",function(_ref9){var key=_ref9.key,traverse=_ref9.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{key:key()},traverse())}),xp.register("self::PGROUP",function(_ref10){var key=_ref10.key,traverse=_ref10.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{key:key()},traverse("./GRPDESCR"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,traverse("./PERSONA")))}),xp.register("self::STAGEDIR",function(_ref11){var key=_ref11.key,traverse=_ref11.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{key:key()},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("em",null,traverse()))}),xp.register("self::SPEECH",function(_ref12){var key=_ref12.key,traverse=_ref12.traverse;_ref12.query;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key(),style:{marginBottom:"1em"}},traverse())}),xp.register("self::SPEAKER",function(_ref13){var key=_ref13.key,traverse=_ref13.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key()},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,traverse()))}),xp.register("self::LINE",function(_ref14){var key=_ref14.key,traverse=_ref14.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key(),style:{marginLeft:"2em"}},traverse())}),__webpack_exports__.a=xp},425:function(module,exports,__webpack_require__){__webpack_require__(165),__webpack_require__(426),module.exports=__webpack_require__(427)},427:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(161),_storybook_addon_options__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(422);__webpack_require__(441),__webpack_require__(442);Object(_storybook_addon_options__WEBPACK_IMPORTED_MODULE_1__.setOptions)({name:"xml-renderer",url:"https://github.com/wvbe/xml-renderer",showDownPanel:!1}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function(){__webpack_require__(443)},module)}.call(this,__webpack_require__(264)(module))},441:function(module,exports,__webpack_require__){},442:function(module,exports,__webpack_require__){},443:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(161),_components_RenderedDocument__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(338),_components_RenderedError__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(162),_rssExperience__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(423),_shakespeareExperience__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(424),DocumentFromPublicDir=Object(_components_RenderedDocument__WEBPACK_IMPORTED_MODULE_2__.b)(function(documentId){return fetch("/xml/"+documentId).then(function(response){return response.text()}).then(function(content){return{documentId:documentId,content:content}})},Object(_components_RenderedError__WEBPACK_IMPORTED_MODULE_3__.b)(_components_RenderedDocument__WEBPACK_IMPORTED_MODULE_2__.a));Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Documents",module).add("nasa.rss",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DocumentFromPublicDir,{documentId:"nasa.rss",experience:_rssExperience__WEBPACK_IMPORTED_MODULE_4__.a})}).add("macbeth.xml",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DocumentFromPublicDir,{documentId:"macbeth.xml",experience:_shakespeareExperience__WEBPACK_IMPORTED_MODULE_5__.a})})}.call(this,__webpack_require__(264)(module))}},[[425,2,4]]]);
//# sourceMappingURL=iframe.9a6197f60a3497a00c0b.bundle.js.map