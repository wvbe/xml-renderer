(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{337:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(4),classCallCheck_default=__webpack_require__.n(classCallCheck),createClass=__webpack_require__(6),createClass_default=__webpack_require__.n(createClass),possibleConstructorReturn=__webpack_require__(11),possibleConstructorReturn_default=__webpack_require__.n(possibleConstructorReturn),getPrototypeOf=__webpack_require__(12),getPrototypeOf_default=__webpack_require__.n(getPrototypeOf),inherits=__webpack_require__(13),inherits_default=__webpack_require__.n(inherits),assertThisInitialized=__webpack_require__(3),assertThisInitialized_default=__webpack_require__.n(assertThisInitialized),defineProperty=__webpack_require__(7),defineProperty_default=__webpack_require__.n(defineProperty),react=(__webpack_require__(444),__webpack_require__(0)),react_default=__webpack_require__.n(react),helpers_extends=__webpack_require__(24),extends_default=__webpack_require__.n(helpers_extends),objectWithoutProperties=__webpack_require__(37),objectWithoutProperties_default=__webpack_require__.n(objectWithoutProperties);function RenderedError(_ref){var documentId=_ref.documentId,message=_ref.message,stack=_ref.stack,code=_ref.code,componentStack=_ref.componentStack;return react_default.a.createElement("div",null,react_default.a.createElement("h1",null,"ERROR"),documentId?react_default.a.createElement("p",null,"An error occurred while rendering document ",react_default.a.createElement("code",null,documentId),"."):react_default.a.createElement("p",null,"An error occurred."),message&&react_default.a.createElement("p",null,react_default.a.createElement("b",null,message))||null,code&&react_default.a.createElement("p",null,react_default.a.createElement("b",null,"Code: ",code))||null,stack&&react_default.a.createElement("pre",null,stack)||null,componentStack&&react_default.a.createElement("pre",null,componentStack)||null)}RenderedError.__docgenInfo={description:"",methods:[],displayName:"RenderedError"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RenderedError.js"]={name:"RenderedError",docgenInfo:RenderedError.__docgenInfo,path:"src/components/RenderedError.js"});var slimdom_sax_parser=__webpack_require__(336),slimdom_sax_parser_default=__webpack_require__.n(slimdom_sax_parser);function RenderedNode(_ref){var experience=_ref.experience,node=_ref.node,additionalProps=objectWithoutProperties_default()(_ref,["experience","node"]);return experience.render(node,additionalProps)}function RenderedXml(_ref){var xml=_ref.xml,additionalProps=objectWithoutProperties_default()(_ref,["xml"]);try{slimdom_sax_parser_default.a.sync(xml.toString().trim())}catch(e){throw e}return react_default.a.createElement(RenderedNode,extends_default()({},additionalProps,{node:slimdom_sax_parser_default.a.sync(xml.toString().trim())}))}function RenderedDocument(_ref){var documentId=_ref.documentId,documentError=_ref.documentError,documentContent=_ref.documentContent,documentIsLoading=_ref.documentIsLoading,additionalProps=objectWithoutProperties_default()(_ref,["documentId","documentError","documentContent","documentIsLoading"]);return documentIsLoading?null:documentError?react_default.a.createElement(RenderedError,extends_default()({},documentError,{documentId:documentId})):react_default.a.createElement(RenderedXml,extends_default()({},additionalProps,{xml:documentContent}))}RenderedXml.__docgenInfo={description:"",methods:[],displayName:"RenderedXml"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RenderedXml.js"]={name:"RenderedXml",docgenInfo:RenderedXml.__docgenInfo,path:"src/components/RenderedXml.js"}),RenderedDocument.__docgenInfo={description:"",methods:[],displayName:"RenderedDocument"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/RenderedDocument.js"]={name:"RenderedDocument",docgenInfo:RenderedDocument.__docgenInfo,path:"src/components/RenderedDocument.js"});var getDocument,DocumentComponent,Comp,cacheResponseByDocumentId={},DocumentFromPublicDir=(getDocument=function(documentId){return cacheResponseByDocumentId[documentId]?Promise.resolve(cacheResponseByDocumentId[documentId]):fetch("xml/"+documentId).then(function(response){return response.text()}).then(function(content){return cacheResponseByDocumentId[documentId]={documentId:documentId,content:content},cacheResponseByDocumentId[documentId]})},Comp=RenderedDocument,DocumentComponent=function(_PureComponent){function CaughtComponent(){var _getPrototypeOf2,_this;classCallCheck_default()(this,CaughtComponent);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(CaughtComponent)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"state",{error:null}),_this}return inherits_default()(CaughtComponent,_PureComponent),createClass_default()(CaughtComponent,[{key:"componentDidCatch",value:function(error,info){console.log("Catching error",error),this.unseen=!0,this.setState({error:{message:error.message,code:error.code,stack:error.stack,componentStack:info.componentStack}})}},{key:"render",value:function(){return this.state.error&&this.unseen?(this.unseen=!1,react_default.a.createElement(RenderedError,this.state.error)):react_default.a.createElement(Comp,this.props)}}]),CaughtComponent}(react.PureComponent),function(_PureComponent){function AsyncRenderedDocument(){var _getPrototypeOf2,_this;classCallCheck_default()(this,AsyncRenderedDocument);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(AsyncRenderedDocument)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"documentId",null),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"componentIsMounted",!1),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"state",{loading:!0,error:null,content:null}),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"getDocument",function(documentId){if(_this.componentIsMounted)return _this.documentId=documentId,_this.setState({loading:!0}),getDocument(documentId).then(function(_ref3){var responseDocumentId=_ref3.documentId,error=_ref3.error,content=_ref3.content;return _this.componentIsMounted&&_this.documentId===responseDocumentId?void _this.setState({content:error?null:content,error:error||null,loading:!1}):void console.log(_this.componentIsMounted,_this.documentId,responseDocumentId)}).catch(function(error){_this.componentIsMounted&&_this.setState({content:null,error:error,loading:!1})})}),_this}return inherits_default()(AsyncRenderedDocument,_PureComponent),createClass_default()(AsyncRenderedDocument,[{key:"componentDidMount",value:function(){this.componentIsMounted=!0,this.getDocument(this.props.documentId)}},{key:"componentWillUnmount",value:function(){this.componentIsMounted=!1}},{key:"componentDidUpdate",value:function(){this.documentId===this.props.documentId||this.getDocument(this.props.documentId)}},{key:"render",value:function(){var _this$state=this.state,content=_this$state.content,error=_this$state.error,loading=_this$state.loading;return react_default.a.createElement(DocumentComponent,extends_default()({},this.props,{documentContent:error?null:content,documentError:error||null,documentIsLoading:loading}))}}]),AsyncRenderedDocument}(react.PureComponent)),dist_es5=__webpack_require__(100),dist_es5_default=__webpack_require__.n(dist_es5),stylesPerCodePart={comment:{color:"#aaa"},piName:{color:"blue"},piValue:{color:"purple"},attributeName:{color:"purple"},attributeValue:{color:"blue"},linkedAttributeValue:{color:"blue",textDecoration:"underline",cursor:"pointer"},elementName:{color:"green"},namespaceName:{color:"yellow"},nodeContent:{color:"black"},syntax:{color:"red"}},sourceViewExperience_style=Object.keys(stylesPerCodePart).reduce(function(style,name){return Object.assign(style,defineProperty_default()({},name,Object.assign({fontFamily:"monospace",whiteSpace:"pre-wrap"},stylesPerCodePart[name])))},{}),sourceViewExperience_experience=new dist_es5_default.a;sourceViewExperience_experience.register("self::node()",function(_ref){return(0,_ref.traverse)()}),sourceViewExperience_experience.register("self::text()",function(_ref2){return(0,_ref2.node)().nodeValue}),sourceViewExperience_experience.register("self::element()",function(_ref3){var traverse=_ref3.traverse,key=_ref3.key,query=_ref3.query,node=_ref3.node,open=_ref3.open,resolve=_ref3.resolve,isSelfClosing=query("boolean(not(child::node()))"),name=query("name()");return react_default.a.createElement("div",{key:key()},react_default.a.createElement("span",{style:sourceViewExperience_style.syntax},"<"),react_default.a.createElement("span",{style:sourceViewExperience_style.elementName},name),Array.from(node().attributes).map(function(attr){return react_default.a.createElement("span",{key:attr.name},react_default.a.createElement("span",null," "),react_default.a.createElement("span",{style:sourceViewExperience_style.attributeName},attr.name),react_default.a.createElement("span",{style:sourceViewExperience_style.syntax},'="'),"reference"===attr.name?react_default.a.createElement("span",{style:sourceViewExperience_style.linkedAttributeValue,onClick:function(){return open(resolve(attr.value))}},attr.value):react_default.a.createElement("span",{style:sourceViewExperience_style.attributeValue},attr.value),react_default.a.createElement("span",{style:sourceViewExperience_style.syntax},'"'))}),isSelfClosing&&react_default.a.createElement("span",{style:sourceViewExperience_style.syntax}," /"),react_default.a.createElement("span",{style:sourceViewExperience_style.syntax},">"),!isSelfClosing&&react_default.a.createElement("div",{style:{marginLeft:"1em",paddingLeft:"0em",borderLeft:"1px dotted #eee"}},traverse()),!isSelfClosing&&react_default.a.createElement("span",null,react_default.a.createElement("span",{style:sourceViewExperience_style.syntax},"</"),react_default.a.createElement("span",{style:sourceViewExperience_style.elementName},name),react_default.a.createElement("span",{style:sourceViewExperience_style.syntax},">")))}),sourceViewExperience_experience.register("self::comment()",function(_ref4){var key=_ref4.key,node=_ref4.node;return react_default.a.createElement("div",{key:key()},react_default.a.createElement("span",{style:sourceViewExperience_style.comment},"\x3c!--",node().nodeValue,"--\x3e"))}),sourceViewExperience_experience.register("self::processing-instruction()",function(_ref5){var key=_ref5.key,node=_ref5.node;return react_default.a.createElement("div",{key:key()},react_default.a.createElement("span",{style:sourceViewExperience_style.syntax},"<?"),react_default.a.createElement("span",{style:sourceViewExperience_style.piName},node().nodeName)," ",react_default.a.createElement("span",{style:sourceViewExperience_style.piValue},node().nodeValue),node().data?" ":null,react_default.a.createElement("span",{style:sourceViewExperience_style.syntax},"?>"))});var sourceViewExperience=sourceViewExperience_experience;__webpack_require__.d(__webpack_exports__,"a",function(){return DocumentShowcase_DocumentShowcase});var DocumentShowcase_DocumentShowcase=function(_Component){function DocumentShowcase(){var _getPrototypeOf2,_this;classCallCheck_default()(this,DocumentShowcase);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=possibleConstructorReturn_default()(this,(_getPrototypeOf2=getPrototypeOf_default()(DocumentShowcase)).call.apply(_getPrototypeOf2,[this].concat(args))),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"tabs",["source","render"]),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"state",{activeWindow:"render"}),defineProperty_default()(assertThisInitialized_default()(assertThisInitialized_default()(_this)),"getContentForTab",function(tabName){var _this$props=_this.props,documentId=_this$props.documentId,experience=_this$props.experience;return"source"===tabName?react_default.a.createElement(DocumentFromPublicDir,{documentId:documentId,experience:sourceViewExperience}):"render"===tabName?react_default.a.createElement(DocumentFromPublicDir,{documentId:documentId,experience:experience}):react_default.a.createElement("p",null,"Please select a tab!")}),_this}return inherits_default()(DocumentShowcase,_Component),createClass_default()(DocumentShowcase,[{key:"switchToTab",value:function(tab){this.setState({activeWindow:tab})}},{key:"render",value:function(){var _this2=this;return react_default.a.createElement("div",{className:"document-showcase-root"},react_default.a.createElement("div",{className:"document-showcase-tabs"},this.tabs.map(function(tab){return react_default.a.createElement("div",{key:tab,className:tab===_this2.state.activeWindow?"selected":null,onClick:function(){return _this2.switchToTab(tab)}},tab)})),react_default.a.createElement("div",{className:"document-showcase-content"},react_default.a.createElement("div",null,this.getContentForTab(this.state.activeWindow))))}}]),DocumentShowcase}(react.Component);DocumentShowcase_DocumentShowcase.__docgenInfo={description:"",methods:[{name:"switchToTab",docblock:null,modifiers:[],params:[{name:"tab",type:null}],returns:null},{name:"getContentForTab",docblock:null,modifiers:[],params:[{name:"tabName",type:null}],returns:null}],displayName:"DocumentShowcase"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/stories/components/DocumentShowcase.js"]={name:"DocumentShowcase",docgenInfo:DocumentShowcase_DocumentShowcase.__docgenInfo,path:"src/stories/components/DocumentShowcase.js"})},422:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),xml_renderer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(100),xp=new(__webpack_require__.n(xml_renderer__WEBPACK_IMPORTED_MODULE_1__).a);xp.register("self::text()",function(_ref){return(0,_ref.node)().nodeValue}),xp.register("self::node()",function(_ref2){return(0,_ref2.traverse)()}),xp.register("self::title",function(_ref3){var key=_ref3.key,traverse=_ref3.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",{key:key()},traverse())}),xp.register("self::channel",function(_ref4){var key=_ref4.key,traverse=_ref4.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key()},traverse("./title"),traverse("./description"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,traverse("./item")))}),xp.register("self::item",function(_ref5){var key=_ref5.key,traverse=_ref5.traverse,query=_ref5.query;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{key:key()},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,traverse("./title"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",{className:"dim"},"(",query("./pubDate/string()"),", ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a",{href:query("./link/string()"),target:"_blank"},"visit"),")")),traverse("./description"))}),xp.register("self::title[parent::item]",function(_ref6){var key=_ref6.key,traverse=_ref6.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong",{key:key()},traverse())}),__webpack_exports__.a=xp},423:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),xml_renderer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(100),xp=new(__webpack_require__.n(xml_renderer__WEBPACK_IMPORTED_MODULE_1__).a);xp.register("self::text()",function(_ref){return(0,_ref.node)().nodeValue}),xp.register("self::node()",function(_ref2){return(0,_ref2.traverse)()}),xp.register("self::P",function(_ref3){var key=_ref3.key,traverse=_ref3.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{key:key()},traverse())}),xp.register("self::TITLE",function(_ref4){var key=_ref4.key,traverse=_ref4.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",{key:key(),style:{marginBottom:"1em"}},traverse())}),xp.register("self::TITLE[parent::ACT or parent::PERSONAE]",function(_ref5){var key=_ref5.key,traverse=_ref5.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",{key:key()},traverse())}),xp.register("self::TITLE[parent::SCENE]",function(_ref6){var key=_ref6.key,traverse=_ref6.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3",{key:key(),style:{marginBottom:"1em"}},traverse())}),xp.register("self::FM or self::ACT",function(_ref7){var key=_ref7.key,traverse=_ref7.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key(),style:{marginBottom:"2em"}},traverse())}),xp.register("self::PERSONAE",function(_ref8){var key=_ref8.key,traverse=_ref8.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key(),style:{marginBottom:"2em"}},traverse("./TITLE"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,traverse("./(PERSONA|PGROUP)")))}),xp.register("self::PERSONA",function(_ref9){var key=_ref9.key,traverse=_ref9.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{key:key()},traverse())}),xp.register("self::PGROUP",function(_ref10){var key=_ref10.key,traverse=_ref10.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{key:key()},traverse("./GRPDESCR"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,traverse("./PERSONA")))}),xp.register("self::STAGEDIR",function(_ref11){var key=_ref11.key,traverse=_ref11.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{key:key()},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("em",null,traverse()))}),xp.register("self::SPEECH",function(_ref12){var key=_ref12.key,traverse=_ref12.traverse;_ref12.query;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key(),style:{marginBottom:"1em"}},traverse())}),xp.register("self::SPEAKER",function(_ref13){var key=_ref13.key,traverse=_ref13.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key()},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b",null,traverse()))}),xp.register("self::LINE",function(_ref14){var key=_ref14.key,traverse=_ref14.traverse;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{key:key(),style:{marginLeft:"2em"}},traverse())}),__webpack_exports__.a=xp},424:function(module,exports,__webpack_require__){__webpack_require__(164),__webpack_require__(425),module.exports=__webpack_require__(426)},426:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(162),_storybook_addon_options__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(421);__webpack_require__(440),__webpack_require__(441);Object(_storybook_addon_options__WEBPACK_IMPORTED_MODULE_1__.setOptions)({name:"xml-renderer",url:"https://github.com/wvbe/xml-renderer",showDownPanel:!1}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function(){__webpack_require__(442)},module)}.call(this,__webpack_require__(263)(module))},440:function(module,exports,__webpack_require__){},441:function(module,exports,__webpack_require__){},442:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(162),_rssExperience__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(422),_shakespeareExperience__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(423),_components_DocumentShowcase__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(337);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Documents",module).add("nasa.rss",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_DocumentShowcase__WEBPACK_IMPORTED_MODULE_4__.a,{documentId:"nasa.rss",experience:_rssExperience__WEBPACK_IMPORTED_MODULE_2__.a})}).add("macbeth.xml",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_DocumentShowcase__WEBPACK_IMPORTED_MODULE_4__.a,{documentId:"macbeth.xml",experience:_shakespeareExperience__WEBPACK_IMPORTED_MODULE_3__.a})})}.call(this,__webpack_require__(263)(module))},444:function(module,exports,__webpack_require__){}},[[424,2,4]]]);
//# sourceMappingURL=iframe.933a0d32bf6dbf270de0.bundle.js.map